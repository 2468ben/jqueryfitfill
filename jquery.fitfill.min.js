!function(t){var e=function(e,n){var n=t.extend({centerW:!0,centerH:!0,how:"fit"},n),i=e.get(0),a=i&&i.width&&i.height?i.width/i.height:e.width()/e.height(),o=n.parentEl?n.parentEl:e.parent(),r=o.innerWidth(),s=o.innerHeight(),l=r/s,c="fit"===n.how&&l>a||"fill"===n.how&&a>l;e.css(c?{height:s,width:s*a}:{width:r,height:r/a}),1==n.centerW&&e.css("margin-left",(r-e.width())/2+"px"),1==n.centerH&&e.css("margin-top",(s-e.height())/2+"px")},n=function(t,e,n){var i=t.get(0);i&&i.width>0&&i.height>0?(e(!0,t,n),n.callback&&n.callback(t)):t.load(function(){e(!0,t,n),n.callback&&n.callback(t)}).error(function(){e(!1,t,n)})},i=function(t,n,i){t&&e(n,i)},a=function(e,a,o){n(t(a).find(" > img"),i,t.extend(o,{how:e}))};t.fn.fit=function(t){a("fit",this,t)},t.fn.fill=function(t){a("fill",this,t)},t.fn.fitAll=function(e){this.each(function(n,i){t(i).fit(e)})},t.fn.fillAll=function(e){this.each(function(n,i){t(i).fill(e)})}}(jQuery);
